<div class="login-bg d-flex align-items-center justify-content-center min-vh-100">
  <div class="login-card shadow-lg p-4 rounded bg-white">
    <div class="text-center mb-4">
      <h2 class="mb-0 text-primary">Entrar na sua conta</h2>
      <p class="text-muted mb-0">Bem-vindo de volta!</p>
    </div>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div class="form-group mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" id="email" formControlName="email" class="form-control" [class.is-invalid]="errors.email" autocomplete="username" />
        <div *ngIf="errors.email" class="invalid-feedback">
          {{ errors.email }}
        </div>
      </div>

      <div class="form-group mb-3">
        <label for="password" class="form-label">Password</label>
        <input type="password" id="password" formControlName="password" class="form-control" [class.is-invalid]="errors.password" autocomplete="current-password" />
        <div *ngIf="errors.password" class="invalid-feedback">
          {{ errors.password }}
        </div>
      </div>

      <div *ngIf="errors.geral" class="alert alert-danger text-center py-2">
        {{ errors.geral }}
      </div>

      <div class="d-grid mb-2">
        <button type="submit" class="btn btn-primary btn-lg" [disabled]="isLoading">
          {{ isLoading ? "A entrar..." : "Entrar" }}
        </button>
        <button type="button" class="btn btn-danger w-100 mt-2" (click)="loginWithGoogle()">
          <i class="fab fa-google"></i> Login with Google
        </button>
      </div>

      <div class="text-center mt-2">
        <span class="text-muted">Ainda n√£o tens conta?</span>
        <a (click)="navigateToRegister()" class="ms-1 text-decoration-underline" style="cursor:pointer;">Registar</a>
      </div>
    </form>

    <a (click)="navigateToForgotPassword()" class="ms-1 text-decoration-underline" *ngIf="!forgotFormVisible" style="cursor:pointer;">Esqueceu-se da password?</a>

    <div *ngIf="forgotFormVisible" class="mt-3">
      <input type="email" [(ngModel)]="forgotEmail" placeholder="O seu email" class="form-control mb-2" [disabled]="forgotLoading">
      <button class="btn btn-primary" (click)="onForgotSubmit()" [disabled]="forgotLoading">
        Recuperar Password
      </button>
      <button class="btn btn-link" (click)="hideForgotForm()" [disabled]="forgotLoading">Cancelar</button>
    </div>

    
  </div>
</div>